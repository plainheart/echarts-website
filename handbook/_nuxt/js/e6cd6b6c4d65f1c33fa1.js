(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{315:function(n,e,r){"use strict";r.r(e),e.default="# Use Apache ECharts with bundler and NPM\r\n\r\nIf your development environment uses a package management tool like `npm` or `yarn` and builds with a packaging tool like Webpack, this article will describe how to get a minimal bundle of Apache ECharts<sup>TM</sup> via treeshaking.\r\n\r\n## Install ECharts via NPM\r\n\r\nYou can install ECharts via npm using the following command\r\n\r\n```shell\r\nnpm install echarts --save\r\n```\r\n\r\n## Import ECharts\r\n\r\n```js\r\nimport * as echarts from 'echarts';\r\n\r\n// initialize the echarts instance\r\nvar myChart = echarts.init(document.getElementById('main'));\r\n// Draw the chart\r\nmyChart.setOption({\r\n  title: {\r\n    text: 'ECharts Getting Started Example'\r\n  },\r\n  tooltip: {},\r\n  xAxis: {\r\n    data: ['shirt', 'cardigan', 'chiffon', 'pants', 'heels', 'socks']\r\n  },\r\n  yAxis: {},\r\n  series: [\r\n    {\r\n      name: 'sales',\r\n      type: 'bar',\r\n      data: [5, 20, 36, 10, 10, 20]\r\n    }\r\n  ]\r\n});\r\n```\r\n\r\n## Importing Required Charts and Components to Have Minimal Bundle\r\n\r\nThe above code will import all the charts and components in ECharts, but if you don't want to bring in all the components, you can use the tree-shakeable interface provided by ECharts to bundle the required components and get a minimal bundle.\r\n\r\n```js\r\n// Import the echarts core module, which provides the necessary interfaces for using echarts.\r\nimport * as echarts from 'echarts/core';\r\n// Import bar charts, all suffixed with Chart\r\nimport { BarChart } from 'echarts/charts';\r\n// Import the tooltip, title, rectangular coordinate system, dataset and transform components\r\n// all suffixed with Component\r\nimport {\r\n  TitleComponent,\r\n  TooltipComponent,\r\n  GridComponent,\r\n  DatasetComponent,\r\n  TransformComponent\r\n} from 'echarts/components';\r\n// Features like Universal Transition and Label Layout\r\nimport { LabelLayout, UniversalTransition } from 'echarts/features';\r\n// Import the Canvas renderer\r\n// Note that introducing the CanvasRenderer or SVGRenderer is a required step\r\nimport { CanvasRenderer } from 'echarts/renderers';\r\n\r\n// Register the required components\r\necharts.use([\r\n  TitleComponent,\r\n  TooltipComponent,\r\n  GridComponent,\r\n  DatasetComponent,\r\n  TransformComponent,\r\n  BarChart,\r\n  LabelLayout,\r\n  UniversalTransition,\r\n  CanvasRenderer\r\n]);\r\n\r\n// The next step is the same as before, initialize the chart and set the configuration items\r\nvar myChart = echarts.init(document.getElementById('main'));\r\nmyChart.setOption({\r\n  // ...\r\n});\r\n```\r\n\r\n> Note that in order to keep the size of the package to a minimum, ECharts does not provide any renderer in tree-shakeable interface, so you need to choose to import `CanvasRenderer` or `SVGRenderer` as the renderer. The advantage of this is that if you only need to use the svg rendering mode, the bundle will not include the `CanvasRenderer` module, which is not needed.\r\n\r\nThe \"Full Code\" tab on our sample editor page provides a very convenient way to generate a tree-shakable code. It will generate tree-shakable code based on the current option dynamically. You can use it directly in your project.\r\n\r\n## Minimal Option Type in TypeScript\r\n\r\nFor developers who are using TypeScript to develop ECharts, we provide a type interface to combine the minimal `EChartsOption` type. This stricter type can effectively help you check for missing components or charts.\r\n\r\n```ts\r\nimport * as echarts from 'echarts/core';\r\nimport {\r\n  BarChart,\r\n  // The series types are defined with the SeriesOption suffix\r\n  BarSeriesOption,\r\n  LineChart,\r\n  LineSeriesOption\r\n} from 'echarts/charts';\r\nimport {\r\n  TitleComponent,\r\n  // The component types are defined with the suffix ComponentOption\r\n  TitleComponentOption,\r\n  TooltipComponent,\r\n  TooltipComponentOption,\r\n  GridComponent,\r\n  GridComponentOption,\r\n  // Dataset\r\n  DatasetComponent,\r\n  DatasetComponentOption,\r\n  // Built-in transform (filter, sort)\r\n  TransformComponent\r\n} from 'echarts/components';\r\nimport { LabelLayout, UniversalTransition } from 'echarts/features';\r\nimport { CanvasRenderer } from 'echarts/renderers';\r\n\r\n// Combine an Option type with only required components and charts via ComposeOption\r\ntype ECOption = echarts.ComposeOption<\r\n  | BarSeriesOption\r\n  | LineSeriesOption\r\n  | TitleComponentOption\r\n  | TooltipComponentOption\r\n  | GridComponentOption\r\n  | DatasetComponentOption\r\n>;\r\n\r\n// Register the required components\r\necharts.use([\r\n  TitleComponent,\r\n  TooltipComponent,\r\n  GridComponent,\r\n  DatasetComponent,\r\n  TransformComponent,\r\n  BarChart,\r\n  LabelLayout,\r\n  UniversalTransition,\r\n  CanvasRenderer\r\n]);\r\n\r\nconst option: ECOption = {\r\n  // ...\r\n};\r\n```\r\n"}}]);